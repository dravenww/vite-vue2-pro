import{n as t,_ as e}from"./index.6a53eb42.js";import{a}from"./article.003c21bd.js";import"./vendor.ae19cf99.js";const i={};var l=t({name:"ExportZip",data:()=>({list:null,listLoading:!0,downloadLoading:!1,filename:""}),created(){this.fetchData()},methods:{async fetchData(){this.listLoading=!0;const{data:t}=await a();this.list=t.items,this.listLoading=!1},handleDownload(){this.downloadLoading=!0,e((()=>import("./Export2Zip.32f6a018.js")),["/vite-vue2-pro/assets/Export2Zip.32f6a018.js","/vite-vue2-pro/assets/FileSaver.min.98bd1f62.js","/vite-vue2-pro/assets/vendor.ae19cf99.js"]).then((t=>{const e=this.list,a=this.formatJson(["id","title","author","pageviews","display_time"],e);t.export_txt_to_zip(["Id","Title","Author","Readings","Date"],a,this.filename,this.filename),this.downloadLoading=!1}))},formatJson:(t,e)=>e.map((e=>t.map((t=>e[t]))))}},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"Please enter the file name (default file)","prefix-icon":"el-icon-document"},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}}),a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-document"},on:{click:t.handleDownload}},[t._v(" Export Zip ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index)+" ")]}}])}),a("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.title)+" ")]}}])}),a("el-table-column",{attrs:{label:"Author",width:"95",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.author))])]}}])}),a("el-table-column",{attrs:{label:"Readings",width:"115",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.pageviews)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Date",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",[t._v(t._s(e.row.display_time))])]}}])})],1)],1)}),[],!1,(function(t){for(let e in i)this[e]=i[e]}),null,null,null);l.options.__file="src/views/zip/index.vue";var n=l.exports;export default n;
